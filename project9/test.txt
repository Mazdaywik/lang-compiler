import lang.lib

() void runnable ->
    int i = 25

    while (i > 0)
        i--
        //println(concat("Test", toString(i))
        yield()
        yield()
        yield()
        yield()
        yield()
        yield()
        yield()

    return


() int main ->
    int i = 0
    int j  = 0
    println(concat("Test", toString(2))

    Thread[] threads = new Thread[32]

    while i < 4
        j = 0
        while j < 8
            Thread t = new Thread(runnable)
            threads[j] = t
            j++
        j = 0
        while j < 8
            threads[j].join()
            j++
        i++


    return 0

